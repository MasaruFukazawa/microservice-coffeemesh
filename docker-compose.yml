version: '3.9'

services:
  service-order:
    build:
      dockerfile: service-order/Dockerfile
    volumes:
      - ./service-order/src/:/src
      - ./service-order/docs/oas.yaml:/docs/oas.yaml
    command: uvicorn app:app --reload --reload --host 0.0.0.0 --port 8000
    ports:
      - "8000:8000"
    tty: true
    #depends_on:
    #  - db
  service-kitchen:
    build:
      dockerfile: service-kitchen/Dockerfile
    volumes:
      - ./service-kitchen/src/:/src
      - ./service-kitchen/docs/oas.yaml:/docs/oas.yaml
    command: flask run --reload --host 0.0.0.0 --port 8001
    ports:
      - "8001:8001"
    tty: true
    #depends_on:
    #  - db